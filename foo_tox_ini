# working list of exceptions removed:
# E305 -- 2 lines after function or class
# E721 -- do not compare types, use isinstance()
# E821 --  ??
# E841 -- undefined name

# at least as of pytest-flake8 1.0.4, the plugin inherits the core flake8 settings, no need for separate pytools:flake8 section.

[flake8]
max-line-length = 180
# exclude files rather than ignore all errors in those files, avoid hanging flake8 command line
exclude =
    __amalgam__.py
    # these run VERY slowly and give tons of errors
    parser*_table.py
    build
    # we don't care about sphinx autogenerated files 
    docs
    # we don't care about ply files?
    ply
    #xonsh/pygments_cache.py OK now?
ignore =
    *.py E122
    *.py E203  # E203 whitespace before ':'
    *.py E402
    *.py W503  # line break before binary operators is a good thing
    tests/test_aliases.py E302
    #tests/tools.py E128
    #xonsh/pygments_cache.py ALL
    # flake8 gives incorrect unused import errors, F401
    xonsh/ast.py F401
    xonsh/platform.py F401
    #xonsh/built_ins.py F821 E721
    #xonsh/commands_cache.py F841
    #xonsh/history.py F821
    xonsh/jupyter_kernel.py E203
    #xonsh/pyghooks.py F821
    #xonsh/style_tools.py F821
    #xonsh/readline_shell.py F401
    #xonsh/timings.py F401
    #xonsh/tokenize.py F821 F841
    xonsh/tools.py E731
    xonsh/xonfig.py E731
    xonsh/proc.py E261 E265
    #xontrib/vox.py F821
    
    # remove these later
    #*.py E741 # ambiguous variable name
    #xonsh/inspectors.py E722
    #xonsh/lexer.py E741
    #xonsh/completers/python.py E722
    #xonsh/xoreutils/*.py E722 

